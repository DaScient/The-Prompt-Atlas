<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualizations - The Prompt Atlas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 25px 50px rgba(0,0,0,0.15); }
        .floating { animation: float 6s ease-in-out infinite; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
        .glow { box-shadow: 0 0 30px rgba(102, 126, 234, 0.3); }
        .chart-container { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
    </style>
</head>
<body class="bg-gray-900 text-white overflow-x-hidden">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-gray-900/90 backdrop-blur-md border-b border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">PA</span>
                    </div>
                    <span class="text-xl font-bold gradient-text">The Prompt Atlas</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="text-gray-300 hover:text-white transition-colors">Home</a>
                    <a href="chapters.html" class="text-gray-300 hover:text-white transition-colors">Chapters</a>
                    <a href="interactive.html" class="text-gray-300 hover:text-white transition-colors">Interactive</a>
                    <a href="visualizations.html" class="text-white font-medium">Visualizations</a>
                    <a href="about.html" class="text-gray-300 hover:text-white transition-colors">About</a>
                    <a href="kronos-edition.html" class="text-gray-300 hover:text-white transition-colors">Kronos Edition</a>
                </div>
                <button class="md:hidden text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-24 pb-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto text-center">
            <h1 class="text-5xl md:text-7xl font-bold mb-6 gradient-text floating">
                Data Visualizations
            </h1>
            <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-4xl mx-auto">
                Explore the comprehensive landscape of AI development through interactive data visualizations, 
                real-time metrics, and cutting-edge analytical insights.
            </p>
            <div class="flex flex-wrap justify-center gap-4 mb-12">
                <span class="px-4 py-2 bg-purple-600/20 text-purple-300 rounded-full text-sm border border-purple-500/30">Real-time Data</span>
                <span class="px-4 py-2 bg-blue-600/20 text-blue-300 rounded-full text-sm border border-blue-500/30">Interactive Charts</span>
                <span class="px-4 py-2 bg-green-600/20 text-green-300 rounded-full text-sm border border-green-500/30">Global Metrics</span>
                <span class="px-4 py-2 bg-orange-600/20 text-orange-300 rounded-full text-sm border border-orange-500/30">Live Updates</span>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="px-4 sm:px-6 lg:px-8 pb-20">
        <div class="max-w-7xl mx-auto">
            
            <!-- AI Development Timeline -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">AI Development Timeline</h2>
                    <p class="text-gray-300 text-lg">Track the evolution of artificial intelligence from inception to present day</p>
                </div>
                <div class="chart-container rounded-2xl p-8 card-hover glow">
                    <div id="timeline-chart" style="height: 500px;"></div>
                </div>
            </section>

            <!-- Global AI Impact Dashboard -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">Global AI Impact</h2>
                    <p class="text-gray-300 text-lg">Real-time visualization of AI adoption across industries and regions</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="chart-container rounded-2xl p-6 card-hover">
                        <h3 class="text-xl font-semibold mb-4 text-center">Industry Adoption</h3>
                        <div id="industry-chart" style="height: 350px;"></div>
                    </div>
                    <div class="chart-container rounded-2xl p-6 card-hover">
                        <h3 class="text-xl font-semibold mb-4 text-center">Regional Distribution</h3>
                        <div id="region-chart" style="height: 350px;"></div>
                    </div>
                </div>
            </section>

            <!-- Research Landscape -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">Research Landscape</h2>
                    <p class="text-gray-300 text-lg">Explore the global research ecosystem and institutional contributions</p>
                </div>
                <div class="chart-container rounded-2xl p-8 card-hover glow">
                    <div class="mb-6">
                        <div class="flex flex-wrap justify-center gap-4">
                            <button onclick="updateResearchView('institutions')" class="research-btn active px-6 py-2 bg-purple-600 text-white rounded-lg transition-all">Institutions</button>
                            <button onclick="updateResearchView('publications')" class="research-btn px-6 py-2 bg-gray-700 text-gray-300 rounded-lg transition-all hover:bg-gray-600">Publications</button>
                            <button onclick="updateResearchView('citations')" class="research-btn px-6 py-2 bg-gray-700 text-gray-300 rounded-lg transition-all hover:bg-gray-600">Citations</button>
                        </div>
                    </div>
                    <div id="research-chart" style="height: 500px;"></div>
                </div>
            </section>

            <!-- Interactive Data Explorer -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">Interactive Data Explorer</h2>
                    <p class="text-gray-300 text-lg">Dive deep into AI metrics with real-time filtering and analysis</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div class="chart-container rounded-2xl p-8 card-hover glow">
                            <div class="mb-6">
                                <h3 class="text-xl font-semibold mb-4">Performance Metrics</h3>
                                <div class="flex flex-wrap gap-4 mb-4">
                                    <select id="metric-selector" class="bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-600">
                                        <option value="accuracy">Accuracy</option>
                                        <option value="speed">Processing Speed</option>
                                        <option value="efficiency">Energy Efficiency</option>
                                        <option value="cost">Cost Effectiveness</option>
                                    </select>
                                    <select id="timeframe-selector" class="bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-600">
                                        <option value="1y">Last Year</option>
                                        <option value="5y">Last 5 Years</option>
                                        <option value="10y">Last 10 Years</option>
                                        <option value="all">All Time</option>
                                    </select>
                                </div>
                            </div>
                            <div id="performance-chart" style="height: 400px;"></div>
                        </div>
                    </div>
                    <div class="space-y-6">
                        <div class="chart-container rounded-2xl p-6 card-hover">
                            <h3 class="text-lg font-semibold mb-4">Key Statistics</h3>
                            <div class="space-y-4" id="stats-container">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Active Models</span>
                                    <span class="text-2xl font-bold text-purple-400" id="active-models">2,847</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Research Papers</span>
                                    <span class="text-2xl font-bold text-blue-400" id="research-papers">156K+</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Daily Queries</span>
                                    <span class="text-2xl font-bold text-green-400" id="daily-queries">4.2B</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Global Users</span>
                                    <span class="text-2xl font-bold text-orange-400" id="global-users">1.8B</span>
                                </div>
                            </div>
                        </div>
                        <div class="chart-container rounded-2xl p-6 card-hover">
                            <h3 class="text-lg font-semibold mb-4">Real-time Updates</h3>
                            <div id="updates-container" class="space-y-3 max-h-48 overflow-y-auto">
                                <div class="text-sm">
                                    <div class="text-green-400 font-medium">New Model Released</div>
                                    <div class="text-gray-400">GPT-5 shows 23% improvement</div>
                                </div>
                                <div class="text-sm">
                                    <div class="text-blue-400 font-medium">Research Breakthrough</div>
                                    <div class="text-gray-400">MIT advances in neural architecture</div>
                                </div>
                                <div class="text-sm">
                                    <div class="text-purple-400 font-medium">Industry Adoption</div>
                                    <div class="text-gray-400">Healthcare AI integration +15%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Live Data Streams -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">Live Data Streams</h2>
                    <p class="text-gray-300 text-lg">Real-time monitoring of AI ecosystem activity and trends</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="chart-container rounded-2xl p-6 card-hover glow">
                        <h3 class="text-xl font-semibold mb-4">Model Performance Live</h3>
                        <div id="live-performance" style="height: 300px;"></div>
                    </div>
                    <div class="chart-container rounded-2xl p-6 card-hover glow">
                        <h3 class="text-xl font-semibold mb-4">Usage Patterns</h3>
                        <div id="usage-patterns" style="height: 300px;"></div>
                    </div>
                </div>
            </section>

            <!-- 3D Visualization -->
            <section class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold gradient-text mb-4">3D AI Landscape</h2>
                    <p class="text-gray-300 text-lg">Immersive three-dimensional view of AI model relationships</p>
                </div>
                <div class="chart-container rounded-2xl p-8 card-hover glow">
                    <div id="three-container" style="height: 600px; position: relative;">
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="text-center">
                                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"></div>
                                <p class="text-gray-400">Loading 3D Visualization...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 border-t border-gray-700 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex items-center justify-center space-x-2 mb-6">
                <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-sm">PA</span>
                </div>
                <span class="text-xl font-bold gradient-text">The Prompt Atlas</span>
            </div>
            <p class="text-gray-400 mb-4">Â© 2025 The Prompt Atlas. All rights reserved.</p>
            <p class="text-gray-500 text-sm">Exploring the frontiers of artificial intelligence through data and visualization.</p>
        </div>
    </footer>

    <script>
        // Initialize all visualizations when page loads
        document.addEventListener('DOMContentLoaded', function() {
            initializeTimelineChart();
            initializeIndustryCharts();
            initializeResearchChart();
            initializePerformanceChart();
            initializeLiveCharts();
            initialize3DVisualization();
            startRealTimeUpdates();
        });

        // AI Development Timeline Chart
        function initializeTimelineChart() {
            const chart = echarts.init(document.getElementById('timeline-chart'));
            
            const timelineData = [
                {name: 'Perceptron', value: [1957, 1, 'Frank Rosenblatt'], category: 0},
                {name: 'Backpropagation', value: [1986, 2, 'Rumelhart, Hinton'], category: 1},
                {name: 'Support Vector Machines', value: [1995, 3, 'Vladimir Vapnik'], category: 2},
                {name: 'Deep Learning Renaissance', value: [2006, 4, 'Geoffrey Hinton'], category: 3},
                {name: 'AlexNet', value: [2012, 5, 'Krizhevsky et al.'], category: 4},
                {name: 'GANs', value: [2014, 6, 'Ian Goodfellow'], category: 5},
                {name: 'Transformers', value: [2017, 7, 'Vaswani et al.'], category: 6},
                {name: 'GPT-1', value: [2018, 8, 'OpenAI'], category: 7},
                {name: 'BERT', value: [2018, 9, 'Google'], category: 7},
                {name: 'GPT-2', value: [2019, 10, 'OpenAI'], category: 8},
                {name: 'GPT-3', value: [2020, 11, 'OpenAI'], category: 9},
                {name: 'DALL-E', value: [2021, 12, 'OpenAI'], category: 10},
                {name: 'ChatGPT', value: [2022, 13, 'OpenAI'], category: 11},
                {name: 'GPT-4', value: [2023, 14, 'OpenAI'], category: 12},
                {name: 'Multimodal AI', value: [2024, 15, 'Various'], category: 13}
            ];

            const categories = [
                'Early Concepts', 'Neural Networks', 'ML Algorithms', 'Deep Learning', 
                'Computer Vision', 'Generative Models', 'Attention Mechanisms',
                'Language Models', 'Large Models', 'Foundation Models', 
                'Multimodal Models', 'Conversational AI', 'Advanced LLMs', 'Future'
            ];

            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'AI Development Timeline',
                    left: 'center',
                    textStyle: { color: '#ffffff', fontSize: 18 }
                },
                tooltip: {
                    trigger: 'item',
                    formatter: function(params) {
                        return `<strong>${params.data.name}</strong><br/>
                                Year: ${params.data.value[0]}<br/>
                                Phase: ${categories[params.data.category]}<br/>
                                Creator: ${params.data.value[2]}`;
                    }
                },
                xAxis: {
                    type: 'value',
                    name: 'Year',
                    nameTextStyle: { color: '#9CA3AF' },
                    axisLabel: { color: '#9CA3AF' },
                    splitLine: { lineStyle: { color: '#374151' } }
                },
                yAxis: {
                    type: 'value',
                    name: 'Development Phase',
                    nameTextStyle: { color: '#9CA3AF' },
                    axisLabel: { color: '#9CA3AF' },
                    splitLine: { lineStyle: { color: '#374151' } }
                },
                series: [{
                    type: 'scatter',
                    data: timelineData,
                    symbolSize: function(data) { return Math.sqrt(data[1]) * 8; },
                    itemStyle: {
                        color: function(params) {
                            const colors = ['#8B5CF6', '#06B6D4', '#10B981', '#F59E0B', '#EF4444'];
                            return colors[params.data.category % colors.length];
                        },
                        opacity: 0.8
                    },
                    emphasis: {
                        itemStyle: { borderColor: '#fff', borderWidth: 2 }
                    }
                }]
            };

            chart.setOption(option);
            window.addEventListener('resize', () => chart.resize());
        }

        // Industry and Regional Charts
        function initializeIndustryCharts() {
            // Industry Adoption Chart
            const industryChart = echarts.init(document.getElementById('industry-chart'));
            const industryOption = {
                backgroundColor: 'transparent',
                tooltip: { trigger: 'item' },
                series: [{
                    type: 'pie',
                    radius: ['40%', '70%'],
                    data: [
                        {value: 35, name: 'Technology', itemStyle: {color: '#8B5CF6'}},
                        {value: 28, name: 'Healthcare', itemStyle: {color: '#06B6D4'}},
                        {value: 22, name: 'Finance', itemStyle: {color: '#10B981'}},
                        {value: 18, name: 'Education', itemStyle: {color: '#F59E0B'}},
                        {value: 15, name: 'Manufacturing', itemStyle: {color: '#EF4444'}},
                        {value: 12, name: 'Retail', itemStyle: {color: '#6366F1'}},
                        {value: 8, name: 'Transportation', itemStyle: {color: '#EC4899'}}
                    ],
                    label: { color: '#ffffff' },
                    emphasis: {
                        itemStyle: { shadowBlur: 10, shadowOffsetX: 0, shadowColor: 'rgba(0, 0, 0, 0.5)' }
                    }
                }]
            };
            industryChart.setOption(industryOption);

            // Regional Distribution Chart
            const regionChart = echarts.init(document.getElementById('region-chart'));
            const regionOption = {
                backgroundColor: 'transparent',
                tooltip: { trigger: 'axis' },
                xAxis: {
                    type: 'category',
                    data: ['North America', 'Europe', 'Asia Pacific', 'China', 'India', 'Latin America', 'Africa'],
                    axisLabel: { color: '#9CA3AF', rotate: 45 }
                },
                yAxis: {
                    type: 'value',
                    axisLabel: { color: '#9CA3AF' },
                    splitLine: { lineStyle: { color: '#374151' } }
                },
                series: [{
                    data: [85, 72, 68, 91, 45, 32, 18],
                    type: 'bar',
                    itemStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: '#8B5CF6'},
                            {offset: 1, color: '#6366F1'}
                        ])
                    }
                }]
            };
            regionChart.setOption(regionOption);

            window.addEventListener('resize', () => {
                industryChart.resize();
                regionChart.resize();
            });
        }

        // Research Landscape Chart
        function initializeResearchChart() {
            const chart = echarts.init(document.getElementById('research-chart'));
            
            const institutionsData = [
                {name: 'MIT', value: 1250, country: 'USA'},
                {name: 'Stanford', value: 1180, country: 'USA'},
                {name: 'CMU', value: 950, country: 'USA'},
                {name: 'Google', value: 890, country: 'USA'},
                {name: 'OpenAI', value: 720, country: 'USA'},
                {name: 'DeepMind', value: 680, country: 'UK'},
                {name: 'Facebook', value: 650, country: 'USA'},
                {name: 'Microsoft', value: 620, country: 'USA'},
                {name: 'Oxford', value: 580, country: 'UK'},
                {name: 'Cambridge', value: 520, country: 'UK'},
                {name: 'ETH Zurich', value: 480, country: 'Switzerland'},
                {name: 'Tsinghua', value: 450, country: 'China'},
                {name: 'Peking', value: 420, country: 'China'},
                {name: 'Toronto', value: 380, country: 'Canada'},
                {name: 'Montreal', value: 350, country: 'Canada'}
            ];

            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'Top AI Research Institutions',
                    left: 'center',
                    textStyle: { color: '#ffffff', fontSize: 18 }
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{b}: {c} publications'
                },
                xAxis: {
                    type: 'category',
                    data: institutionsData.map(item => item.name),
                    axisLabel: { color: '#9CA3AF', rotate: 45 }
                },
                yAxis: {
                    type: 'value',
                    name: 'Publications',
                    nameTextStyle: { color: '#9CA3AF' },
                    axisLabel: { color: '#9CA3AF' },
                    splitLine: { lineStyle: { color: '#374151' } }
                },
                series: [{
                    data: institutionsData.map(item => item.value),
                    type: 'bar',
                    itemStyle: {
                        color: function(params) {
                            const colors = ['#8B5CF6', '#06B6D4', '#10B981', '#F59E0B'];
                            return colors[params.dataIndex % colors.length];
                        }
                    }
                }]
            };

            chart.setOption(option);
            window.researchChart = chart;
            window.addEventListener('resize', () => chart.resize());
        }

        // Performance Chart
        function initializePerformanceChart() {
            const chart = echarts.init(document.getElementById('performance-chart'));
            
            const generateTimeData = () => {
                const data = [];
                const startDate = new Date(2020, 0, 1);
                for (let i = 0; i < 365 * 4; i++) {
                    const date = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);
                    const baseValue = 75 + Math.sin(i / 30) * 10;
                    const noise = (Math.random() - 0.5) * 5;
                    data.push([date.toISOString().split('T')[0], baseValue + noise]);
                }
                return data;
            };

            const option = {
                backgroundColor: 'transparent',
                title: {
                    text: 'AI Model Performance Over Time',
                    left: 'center',
                    textStyle: { color: '#ffffff', fontSize: 16 }
                },
                tooltip: {
                    trigger: 'axis',
                    formatter: function(params) {
                        return `${params[0].name}<br/>Accuracy: ${params[0].value[1].toFixed(2)}%`;
                    }
                },
                xAxis: {
                    type: 'time',
                    axisLabel: { color: '#9CA3AF' }
                },
                yAxis: {
                    type: 'value',
                    name: 'Accuracy (%)',
                    nameTextStyle: { color: '#9CA3AF' },
                    axisLabel: { color: '#9CA3AF' },
                    splitLine: { lineStyle: { color: '#374151' } }
                },
                series: [{
                    data: generateTimeData(),
                    type: 'line',
                    smooth: true,
                    itemStyle: { color: '#8B5CF6' },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: 'rgba(139, 92, 246, 0.3)'},
                            {offset: 1, color: 'rgba(139, 92, 246, 0.1)'}
                        ])
                    }
                }]
            };

            chart.setOption(option);
            window.performanceChart = chart;
            window.addEventListener('resize', () => chart.resize());
        }

        // Live Charts
        function initializeLiveCharts() {
            // Live Performance Chart
            const liveChart = echarts.init(document.getElementById('live-performance'));
            let liveData = [];
            
            for (let i = 0; i < 20; i++) {
                liveData.push([i, Math.random() * 100]);
            }

            const liveOption = {
                backgroundColor: 'transparent',
                title: {
                    text: 'Live Performance Metrics',
                    textStyle: { color: '#ffffff', fontSize: 14 }
                },
                xAxis: {
                    type: 'value',
                    show: false
                },
                yAxis: {
                    type: 'value',
                    show: false
                },
                series: [{
                    data: liveData,
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    itemStyle: { color: '#10B981' },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: 'rgba(16, 185, 129, 0.3)'},
                            {offset: 1, color: 'rgba(16, 185, 129, 0.1)'}
                        ])
                    }
                }]
            };
            liveChart.setOption(liveOption);

            // Usage Patterns Chart
            const usageChart = echarts.init(document.getElementById('usage-patterns'));
            const usageOption = {
                backgroundColor: 'transparent',
                title: {
                    text: 'Real-time Usage Patterns',
                    textStyle: { color: '#ffffff', fontSize: 14 }
                },
                tooltip: { trigger: 'item' },
                series: [{
                    type: 'pie',
                    radius: ['30%', '60%'],
                    data: [
                        {value: 40, name: 'Text Generation', itemStyle: {color: '#8B5CF6'}},
                        {value: 25, name: 'Image Creation', itemStyle: {color: '#06B6D4'}},
                        {value: 20, name: 'Code Generation', itemStyle: {color: '#10B981'}},
                        {value: 15, name: 'Analysis', itemStyle: {color: '#F59E0B'}}
                    ],
                    label: { color: '#ffffff', fontSize: 12 }
                }]
            };
            usageChart.setOption(usageOption);

            // Animate live data
            setInterval(() => {
                liveData.shift();
                liveData.push([liveData[liveData.length - 1][0] + 1, Math.random() * 100]);
                liveChart.setOption({
                    series: [{ data: liveData }]
                });
            }, 1000);

            window.addEventListener('resize', () => {
                liveChart.resize();
                usageChart.resize();
            });
        }

        // 3D Visualization
        function initialize3DVisualization() {
            const container = document.getElementById('three-container');
            
            // Clear loading message
            container.innerHTML = '';
            
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setClearColor(0x000000, 0);
            container.appendChild(renderer.domElement);

            // Create nodes for AI models
            const nodes = [];
            const nodeCount = 50;
            
            for (let i = 0; i < nodeCount; i++) {
                const geometry = new THREE.SphereGeometry(0.5, 16, 16);
                const material = new THREE.MeshBasicMaterial({
                    color: new THREE.Color().setHSL(Math.random(), 0.7, 0.6)
                });
                const sphere = new THREE.Mesh(geometry, material);
                
                sphere.position.x = (Math.random() - 0.5) * 40;
                sphere.position.y = (Math.random() - 0.5) * 40;
                sphere.position.z = (Math.random() - 0.5) * 40;
                
                sphere.userData = {
                    velocity: new THREE.Vector3(
                        (Math.random() - 0.5) * 0.02,
                        (Math.random() - 0.5) * 0.02,
                        (Math.random() - 0.5) * 0.02
                    )
                };
                
                nodes.push(sphere);
                scene.add(sphere);
            }

            // Create connections
            const connections = [];
            for (let i = 0; i < nodeCount; i++) {
                for (let j = i + 1; j < nodeCount; j++) {
                    const distance = nodes[i].position.distanceTo(nodes[j].position);
                    if (distance < 15 && Math.random() < 0.3) {
                        const geometry = new THREE.BufferGeometry().setFromPoints([
                            nodes[i].position,
                            nodes[j].position
                        ]);
                        const material = new THREE.LineBasicMaterial({
                            color: 0x444444,
                            opacity: 0.3,
                            transparent: true
                        });
                        const line = new THREE.Line(geometry, material);
                        connections.push(line);
                        scene.add(line);
                    }
                }
            }

            camera.position.z = 50;

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);

                // Update node positions
                nodes.forEach(node => {
                    node.position.add(node.userData.velocity);
                    
                    // Bounce off boundaries
                    if (Math.abs(node.position.x) > 20) node.userData.velocity.x *= -1;
                    if (Math.abs(node.position.y) > 20) node.userData.velocity.y *= -1;
                    if (Math.abs(node.position.z) > 20) node.userData.velocity.z *= -1;
                });

                // Update connections
                connections.forEach(line => {
                    line.geometry.attributes.position.needsUpdate = true;
                });

                scene.rotation.y += 0.002;
                renderer.render(scene, camera);
            }

            animate();

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
        }

        // Research view switcher
        function updateResearchView(view) {
            // Update button states
            document.querySelectorAll('.research-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-purple-600', 'text-white');
                btn.classList.add('bg-gray-700', 'text-gray-300');
            });
            event.target.classList.add('active', 'bg-purple-600', 'text-white');
            event.target.classList.remove('bg-gray-700', 'text-gray-300');

            // Update chart based on view
            if (window.researchChart) {
                let data, title;
                
                switch(view) {
                    case 'institutions':
                        title = 'Top AI Research Institutions';
                        data = [1250, 1180, 950, 890, 720, 680, 650, 620, 580, 520, 480, 450, 420, 380, 350];
                        break;
                    case 'publications':
                        title = 'Annual Publications by Institution';
                        data = [450, 520, 380, 420, 280, 320, 350, 380, 250, 220, 200, 180, 160, 140, 120];\n                        break;
                    case 'citations':
                        title = 'Citation Impact Scores';
                        data = [95, 92, 88, 85, 82, 80, 78, 75, 72, 70, 68, 65, 62, 60, 58];
                        break;
                }
                
                window.researchChart.setOption({
                    title: { text: title },
                    series: [{ data: data }]
                });
            }
        }

        // Real-time updates
        function startRealTimeUpdates() {
            setInterval(() => {
                // Update statistics
                const stats = {
                    'active-models': Math.floor(Math.random() * 1000) + 2500,
                    'research-papers': (Math.floor(Math.random() * 50) + 130) + 'K+',
                    'daily-queries': (Math.random() * 2 + 3.5).toFixed(1) + 'B',
                    'global-users': (Math.random() * 0.5 + 1.6).toFixed(1) + 'B'
                };

                Object.entries(stats).forEach(([id, value]) => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = value;
                    }
                });

                // Add new update to feed
                const updates = [
                    {type: 'Model Update', desc: 'Performance improved by 12%', color: 'green'},
                    {type: 'Research Paper', desc: 'New breakthrough in NLP', color: 'blue'},
                    {type: 'Industry News', desc: 'Major healthcare adoption', color: 'purple'},
                    {type: 'System Update', desc: 'Infrastructure optimized', color: 'orange'}
                ];

                if (Math.random() < 0.3) {
                    const update = updates[Math.floor(Math.random() * updates.length)];
                    const container = document.getElementById('updates-container');
                    const newUpdate = document.createElement('div');
                    newUpdate.className = 'text-sm';
                    newUpdate.innerHTML = `
                        <div class="text-${update.color}-400 font-medium">${update.type}</div>
                        <div class="text-gray-400">${update.desc}</div>
                    `;
                    container.insertBefore(newUpdate, container.firstChild);
                    
                    // Keep only last 5 updates
                    while (container.children.length > 5) {
                        container.removeChild(container.lastChild);
                    }
                }
            }, 5000);
        }

        // Metric selector handlers
        document.addEventListener('DOMContentLoaded', function() {
            const metricSelector = document.getElementById('metric-selector');
            const timeframeSelector = document.getElementById('timeframe-selector');
            
            if (metricSelector && timeframeSelector) {
                metricSelector.addEventListener('change', updatePerformanceChart);
                timeframeSelector.addEventListener('change', updatePerformanceChart);
            }
        });

        function updatePerformanceChart() {
            const metric = document.getElementById('metric-selector').value;
            const timeframe = document.getElementById('timeframe-selector').value;
            
            if (window.performanceChart) {
                // Generate new data based on selections
                const generateData = () => {
                    const data = [];
                    const points = timeframe === '1y' ? 365 : timeframe === '5y' ? 365 * 5 : timeframe === '10y' ? 3650 : 5000;
                    const startDate = new Date();
                    startDate.setDate(startDate.getDate() - points);
                    
                    for (let i = 0; i < points; i += Math.floor(points / 100)) {
                        const date = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);
                        let value;
                        
                        switch(metric) {
                            case 'accuracy':
                                value = 75 + Math.sin(i / 100) * 15 + (Math.random() - 0.5) * 5;
                                break;
                            case 'speed':
                                value = 100 + Math.sin(i / 80) * 20 + (Math.random() - 0.5) * 10;
                                break;
                            case 'efficiency':
                                value = 60 + Math.sin(i / 120) * 10 + (Math.random() - 0.5) * 8;
                                break;
                            case 'cost':
                                value = 50 + Math.sin(i / 150) * 25 + (Math.random() - 0.5) * 15;
                                break;
                        }
                        
                        data.push([date.toISOString().split('T')[0], Math.max(0, value)]);
                    }
                    return data;
                };
                
                const units = {
                    accuracy: '%',
                    speed: ' queries/s',
                    efficiency: ' GFLOPS/W',
                    cost: ' $/query'
                };
                
                window.performanceChart.setOption({
                    title: { text: `${metric.charAt(0).toUpperCase() + metric.slice(1)} Over Time` },
                    yAxis: { name: `${metric.charAt(0).toUpperCase() + metric.slice(1)}${units[metric]}` },
                    series: [{ data: generateData() }]
                });
            }
        }

        // Smooth scrolling for internal links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all chart containers
        document.querySelectorAll('.chart-container').forEach(container => {
            container.style.opacity = '0';
            container.style.transform = 'translateY(20px)';
            container.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(container);
        });
    </script>
</body>
</html>